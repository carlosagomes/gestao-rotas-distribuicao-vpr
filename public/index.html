<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Roteiriza√ß√£o - VPR</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header class="header">
            <h1><i class="fas fa-route"></i> Sistema de Roteiriza√ß√£o</h1>
            <p>Gest√£o de Rotas de Distribui√ß√£o - VPR</p>
        </header>

        <div class="main-content">
            <div class="sidebar">
                <div class="tab-buttons">
                    <button class="tab-btn active" data-tab="route-optimization">
                        <i class="fas fa-route"></i> Otimiza√ß√£o de Rotas
                    </button>
                    <button class="tab-btn" data-tab="manual-routes">
                        <i class="fas fa-plus"></i> Rotas Manuais
                    </button>
                    <button class="tab-btn" data-tab="saved-routes">
                        <i class="fas fa-save"></i> Rotas Salvas
                    </button>
                </div>

                <!-- Tab: Route Optimization -->
                <div class="tab-content active" id="route-optimization">
                    <div class="form-section">
                        <h3>Configura√ß√£o da Rota</h3>
                        <div class="form-group">
                            <label for="origem">Origem:</label>
                            <div class="autocomplete-container">
                                <input type="text" id="origem" value="Maring√°, PR" placeholder="Digite a cidade de origem" autocomplete="off">
                                <div id="origem-suggestions" class="suggestions-dropdown"></div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="destino">Destino:</label>
                            <div class="autocomplete-container">
                                <input type="text" id="destino" value="Paranava√≠, PR" placeholder="Digite a cidade de destino" autocomplete="off">
                                <div id="destino-suggestions" class="suggestions-dropdown"></div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="raio">Raio de Busca (km):</label>
                            <input type="number" id="raio" value="20" min="5" max="100">
                        </div>
                        <button id="otimizar-btn" class="btn btn-primary">
                            <i class="fas fa-calculator"></i> Otimizar Rota
                        </button>
                    </div>

                    <!-- Bot√µes de navega√ß√£o externa -->
                    <div class="external-nav-section" id="external-nav-section" style="display: none;">
                        <h4>Navega√ß√£o Externa</h4>
                        <div class="external-nav-buttons">
                            <button id="open-google-maps" class="btn btn-external google-maps-btn">
                                <i class="fab fa-google"></i> Abrir no Google Maps
                            </button>
                            <button id="copy-route-link" class="btn btn-external copy-btn">
                                <i class="fas fa-copy"></i> Copiar Link da Rota
                            </button>
                            <button id="test-google-maps-url" class="btn btn-external test-btn">
                                <i class="fas fa-bug"></i> Testar URL
                            </button>
                        </div>
                    </div>

                    <div class="cities-section">
                        <h3>Cidades do Paran√°</h3>
                        <div id="city-counter" class="city-counter">0/20 cidades selecionadas</div>
                        
                        <!-- Filtros de busca -->
                        <div class="city-filters">
                            <div class="filter-group">
                                <input type="text" id="city-search" placeholder="üîç Buscar cidade..." class="filter-input">
                            </div>
                            <div class="filter-group">
                                <select id="region-filter" class="filter-select">
                                    <option value="">Todas as regi√µes</option>
                                    <option value="metropolitana">Regi√£o Metropolitana</option>
                                    <option value="norte">Norte</option>
                                    <option value="noroeste">Noroeste</option>
                                    <option value="oeste">Oeste</option>
                                    <option value="sul">Sul</option>
                                    <option value="sudeste">Sudeste</option>
                                    <option value="centro">Centro</option>
                                </select>
                            </div>
                            <div class="filter-group">
                                <select id="alphabet-filter" class="filter-select">
                                    <option value="">Todas as letras</option>
                                    <option value="A">A</option>
                                    <option value="B">B</option>
                                    <option value="C">C</option>
                                    <option value="D">D</option>
                                    <option value="E">E</option>
                                    <option value="F">F</option>
                                    <option value="G">G</option>
                                    <option value="H">H</option>
                                    <option value="I">I</option>
                                    <option value="J">J</option>
                                    <option value="K">K</option>
                                    <option value="L">L</option>
                                    <option value="M">M</option>
                                    <option value="N">N</option>
                                    <option value="O">O</option>
                                    <option value="P">P</option>
                                    <option value="Q">Q</option>
                                    <option value="R">R</option>
                                    <option value="S">S</option>
                                    <option value="T">T</option>
                                    <option value="U">U</option>
                                    <option value="V">V</option>
                                    <option value="W">W</option>
                                    <option value="X">X</option>
                                </select>
                            </div>
                        </div>

                        <!-- Controles de sele√ß√£o -->
                        <div class="city-controls">
                            <button id="select-all-cities" class="btn btn-secondary btn-small">
                                <i class="fas fa-check-square"></i> Selecionar Todas
                            </button>
                            <button id="deselect-all-cities" class="btn btn-secondary btn-small">
                                <i class="fas fa-square"></i> Desmarcar Todas
                            </button>
                            <button id="select-visible-cities" class="btn btn-primary btn-small">
                                <i class="fas fa-eye"></i> Selecionar Vis√≠veis
                            </button>
                            <button id="clear-filters" class="btn btn-secondary btn-small">
                                <i class="fas fa-times"></i> Limpar Filtros
                            </button>
                        </div>

                        <!-- Grupos r√°pidos -->
                        <div class="quick-groups">
                            <h4>Sele√ß√£o R√°pida:</h4>
                            <div class="quick-group-buttons">
                                <button class="quick-group-btn" data-group="principais">
                                    <i class="fas fa-star"></i> Principais
                                </button>
                                <button class="quick-group-btn" data-group="norte">
                                    <i class="fas fa-map-marker-alt"></i> Norte
                                </button>
                                <button class="quick-group-btn" data-group="oeste">
                                    <i class="fas fa-map-marker-alt"></i> Oeste
                                </button>
                                <button class="quick-group-btn" data-group="sul">
                                    <i class="fas fa-map-marker-alt"></i> Sul
                                </button>
                                <button class="quick-group-btn" data-group="litoral">
                                    <i class="fas fa-water"></i> Litoral
                                </button>
                            </div>
                        </div>

                        <div class="cities-grid" id="cities-grid">
                            <!-- Cidades ser√£o carregadas dinamicamente -->
                        </div>
                    </div>
                </div>

                <!-- Tab: Manual Routes -->
                <div class="tab-content" id="manual-routes">
                    <div class="form-section">
                        <h3>Adicionar Rota Manual</h3>
                        <div class="form-group">
                            <label for="route-name">Nome da Rota:</label>
                            <input type="text" id="route-name" placeholder="Ex: Rota Norte - Semanal">
                        </div>
                        <div class="form-group">
                            <label for="route-origin">Origem:</label>
                            <input type="text" id="route-origin" placeholder="Cidade de origem">
                        </div>
                        <div class="form-group">
                            <label for="route-destination">Destino:</label>
                            <input type="text" id="route-destination" placeholder="Cidade de destino">
                        </div>
                        <div class="form-group">
                            <label for="route-cities">Cidades da Rota (uma por linha):</label>
                            <textarea id="route-cities" rows="8" placeholder="Digite as cidades, uma por linha&#10;Ex:&#10;Sarandi&#10;Pai√ßandu&#10;Doutor Camargo"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="route-frequency">Frequ√™ncia:</label>
                            <select id="route-frequency">
                                <option value="diaria">Di√°ria</option>
                                <option value="semanal" selected>Semanal</option>
                                <option value="quinzenal">Quinzenal</option>
                                <option value="mensal">Mensal</option>
                            </select>
                        </div>
                        <button id="save-route-btn" class="btn btn-success">
                            <i class="fas fa-save"></i> Salvar Rota
                        </button>
                    </div>
                </div>

                <!-- Tab: Saved Routes -->
                <div class="tab-content" id="saved-routes">
                    <div class="saved-routes-section">
                        <h3>Rotas Salvas</h3>
                        <div id="saved-routes-list">
                            <!-- Rotas salvas ser√£o carregadas aqui -->
                        </div>
                    </div>
                </div>
            </div>

            <div class="map-container">
                <div id="map"></div>
                <div class="map-controls">
                    <button id="clear-map" class="btn btn-secondary">
                        <i class="fas fa-trash"></i> Limpar Mapa
                    </button>
                    <button id="fit-bounds" class="btn btn-secondary">
                        <i class="fas fa-expand"></i> Ajustar Visualiza√ß√£o
                    </button>
                    <button id="toggle-numbers" class="btn btn-secondary">
                        <i class="fas fa-sort-numeric-up"></i> Mostrar N√∫meros
                    </button>
                    <button id="toggle-route-type" class="btn btn-secondary">
                        <i class="fas fa-road"></i> Rota Real
                    </button>
                </div>
            </div>
        </div>

        <div class="results-panel" id="results-panel">
            <div class="results-header">
                <h3>Resultado da Otimiza√ß√£o</h3>
                <button id="close-results" class="btn btn-close">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="results-content" id="results-content">
                <!-- Resultados ser√£o exibidos aqui -->
            </div>
        </div>
    </div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="script.js"></script>
</body>
</html>
